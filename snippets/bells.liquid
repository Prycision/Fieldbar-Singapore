<div class="bells_title_block">
  <div class="bells_title">
    {% case localization.country.iso_code %}
      {% when 'DE' %}
        <h2>Das Drum & Dran
        </h2>
        <p>Ihr FIELDBAR-Abenteuer wartet auf Sie.
        </p>
      {% when 'FR' %}
        <h2>Nos petits plus et extras
        </h2>
        <p>Votre aventure FIELDBAR vous attend.
        </p>
      {% else %}
        <h2>The Bells & Whistles
        </h2>
        <p>Your FIELDBAR adventure awaits.
        </p>
    {% endcase %}
  </div>
  <div id="next_pre_bells">
    <div class="svg-wrapper swiper-next-bells">
      {{ 'right.svg' | inline_asset_content }}
    </div>
    <div class="svg-wrapper swiper-prev-bells">
      {{ 'left.svg' | inline_asset_content }}
    </div>
  </div>
</div>

{% if product and product.metafields.custom.bells and product.metafields.custom.bells.value %}
  {% assign slides_data = product.metafields.custom.bells.value | parse_json %}
  {% assign skip = 1 %}

  <div class="bells-swiper-container">
    <div class="swiper myBellsSwiper">
      <div class="swiper-wrapper" id="bells1-wrapper">
        {% for slide in slides_data %}
          {% case localization.country.iso_code %}
            {% when 'US' %}

          {% else %}
            {%- if forloop.index == skip -%}
              {% continue %}
            {%- endif -%}
        {% endcase %}

        {% assign slide_number = forloop.index | prepend: '0' | slice: -2, 2 %}
        <div class="swiper-slide" id="bells1-swiper">
          <div
            class="bells-slide"
            id="bells1-slide"
            style="
                background-position: center center;
                background-image: url('{{ slide.background_image | image_url }}');
              ">
            <div class="slide-number">
              {% comment %}
                {{ slide_number }}.
              {% endcomment %}
            </div>
            <div class="bells-slide-content bottom-left">
              {% if slide.heading.value %}
                <h2 class="slide-heading">
                  {{ slide.heading.value }}
                </h2>
              {% endif %}
              <div class="text_link">
                {% if slide.subtext.value %}
                  <p class="slide-subheading">
                    {{ slide.subtext.value }}
                  </p>
                {% endif %}
                {% assign full_url = slide.cta_link.value.url %}
                {% assign market_friendly_url = full_url | replace: shop.url, '' | split: '?' | first %}
                {% if slide.cta_link.value %}
                  <a
                    href="{{ market_friendly_url }}"
                    id="fancy_hover"
                    style="
                        color:white; text-transform: capitalize;
                        text-align: right; font-size:1em;
                        font-family:'Gotham Narrow Book' !important
                      ">
                    {{ slide.cta_link.value.text }}
                  </a>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>{% else %}
<p>
  No slides available. Ensure the product metafield
  <code>custom.bells
  </code>
  is set and contains valid JSON.
</p>{% endif %}<style>
.swiper-next-bells,
.swiper-prev-bells {
  cursor: pointer !important;
}

.slide-number {
  position: absolute;
  top: 5px;
  right: 10px;
  font-size: 14px;
  font-family: 'Gotham Narrow Book' !important;
  color: #fff;
}

.bells_title_block {
  display: flex;
  flex-direction: row;
  width: 100%;
  padding: 1em;
}

.bells_title > h2 {
  font-family: 'SurveyorText Book Light Pro';
  font-size: 2em;
  margin-bottom: 0;
}

.bells_title {
  width: 80%;
  font-family: 'Gotham Narrow Book' !important;
  font-size: medium;
}

.bells2_title_block {
  display: flex;
  flex-direction: row;
  width: 100%;
  padding: 1em;
}

.bells_title > h2 {
  font-family: 'SurveyorText Book Light Pro';
  font-size: 2em;
  margin-bottom: 0;
}

.bells_title {
  width: 80%;
}
.bells-swiper-container {
  width: 100%;
  height: 100%;
}

.myBellsSwiper {
  height: 90vh;
}
.swiper-slide {
  text-align: center;
  font-size: 18px;
  background: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
}

.bells-slide {
  display: flex;
  width: 100%;
  height: 100%;
  object-fit: cover;
  background-repeat: no-repeat;
  background-size: cover;
  align-items: flex-end;
  justify-content: flex-start;
  column-gap: 1em;
}
.swiper-slide {
  width: 40%;
}

.swiper-slide:nth-child(2n) {
  width: 40%;
}

.swiper-slide:nth-child(3n) {
  width: 40%;
}

.bells-slide-content {
  padding: 2rem;
  max-width: 100%;
}

.bottom-left {
  text-align: left;
  width: 100%;
}
.text_link {
  display: inline-flex;
  justify-content: space-between;
  flex-direction: row;
  width: 100%;
  align-items: flex-end;
  font-size: 1.6rem;
}
.slide-heading {
  margin: 0 0 .5em;
  font-size: 2.5rem;
  text-transform: capitalize;
  color: white;
  font-family: 'SurveyorDisplay';
}

.slide-subheading {
  margin: 0 0 1em;
  font-size: 1.6rem;
  color: white;
  max-width: 80%;
}

.slide-button {
  display: inline-block;
  padding: .75em 1.5em;
  background: #fff;
  color: #000;
  text-decoration: none;
  border-radius: 4px;
  font-weight: 600;
}
#next_pre_bells {
  display: flex;
  flex-direction: row-reverse;
  align-items: end;
  width: 30%;
  column-gap: 20px;
}

.swiper-button-lock {
  display: block;
}

</style><script>
  document.addEventListener("DOMContentLoaded", function () {
    new Swiper(".myBellsSwiper", {
      rewind: true,
      allowTouchMove: true,
      simulateTouch: true,
      spaceBetween: 16,
      mousewheel: {
        forceToAxis: true,
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
        dynamicBullets: false,
      },
      navigation: {
        nextEl: ".swiper-next-bells2",
        prevEl: ".swiper-prev-bells2",
      },
      breakpoints: {
        320: {
          slidesPerView: 1,
        },
        640: {
          slidesPerView: 1,
        },
        768: {
          slidesPerView: 2,
        },
        1024: {
          slidesPerView: 2.5,
        },
      },
    });
  });
</script>
